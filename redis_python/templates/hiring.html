<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hiring Trends</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="p-4 bg-light">
    
    <h2>ðŸ“… Monthly Hiring Trends</h2>
    <canvas id="hiringChart" height="100"></canvas>

    <script>
        async function loadHiringTrends() {
            try {
                const res = await fetch("/hiring-trends", { credentials: "include" });
                const data = await res.json();

                const ctx = document.getElementById("hiringChart").getContext("2d");
                new Chart(ctx, {
                    type: "line",
                    data: {
                        labels: data.months,
                        datasets: [{
                            label: "Employees Hired",
                            data: data.hires,
                            borderColor: "#198754",
                            backgroundColor: "rgba(25,135,84,0.2)",
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            legend: { position: "bottom" }
                        }
                    }
                });
            } catch (err) {
                console.error("Failed to load hiring trends:", err);
            }
        }

        loadHiringTrends();
    </script>
    <script>
  function toggleDarkMode() {
    document.body.classList.toggle('dark-mode');
    localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
  }

  // Load preference on page load
  window.onload = function () {
    if (localStorage.getItem('darkMode') === 'true') {
      document.body.classList.add('dark-mode');
    }
  };
</script>

</body>
</html>

{% include 'footer.html' %}
